<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="plot_rdiff helps visualize comparisons of Pearson's r
estimates between conditions.  It plots the Pearson's r value for each
level of a grouping variable and emphasizes a 1-df comparison among
conditions, plotting the estimated difference and its confidence interval
with a difference axis.  You can pass esci-estimate objects generated
by estimate_rdiff_two().  This function returns a ggplot2 object."><title>Plots for comparing Pearson r values between conditions — plot_rdiff • esci</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plots for comparing Pearson r values between conditions — plot_rdiff"><meta property="og:description" content="plot_rdiff helps visualize comparisons of Pearson's r
estimates between conditions.  It plots the Pearson's r value for each
level of a grouping variable and emphasizes a 1-df comparison among
conditions, plotting the estimated difference and its confidence interval
with a difference axis.  You can pass esci-estimate objects generated
by estimate_rdiff_two().  This function returns a ggplot2 object."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">esci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rcalinjageman/esci/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Plots for comparing Pearson <em>r</em> values between conditions</h1>
      <small class="dont-index">Source: <a href="https://github.com/rcalinjageman/esci/blob/HEAD/R/plot_mdiff.R" class="external-link"><code>R/plot_mdiff.R</code></a></small>
      <div class="d-none name"><code>plot_rdiff.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plot_rdiff</code> helps visualize comparisons of Pearson's r
estimates between conditions.  It plots the Pearson's r value for each
level of a grouping variable and emphasizes a 1-df comparison among
conditions, plotting the estimated difference and its confidence interval
with a difference axis.  You can pass esci-estimate objects generated
by <code><a href="estimate_rdiff_two.html">estimate_rdiff_two()</a></code>.  This function returns a ggplot2 object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_rdiff</span><span class="op">(</span></span>
<span>  <span class="va">estimate</span>,</span>
<span>  error_layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"halfeye"</span>, <span class="st">"eye"</span>, <span class="st">"gradient"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  error_scale <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  error_normalize <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"groups"</span>, <span class="st">"all"</span>, <span class="st">"panels"</span><span class="op">)</span>,</span>
<span>  difference_axis_breaks <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  simple_contrast_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  ybreaks <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  rope <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  ggtheme <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>estimate</dt>
<dd><p>An esci-estimate object generated by an estimate_pdiff_
function</p></dd>


<dt>error_layout</dt>
<dd><p>Optional; one of 'halfeye', 'eye', 'gradient' or 'none'
to determine how expected error distribution will be displayed for each
estimated parameter.  Defaults to 'halfeye'.  Currently does not apply
if 'median' is selected as effect size, in which case a simple error bar
will be used</p></dd>


<dt>error_scale</dt>
<dd><p>Optional numeric determining width of the expected error
distribution.  Defaults to 0.3</p></dd>


<dt>error_normalize</dt>
<dd><p>Optional; one of 'groups', 'all', or 'panels' to
determine how width of the expected error distributions will be normalized.
Defaults to 'groups'.  See documentation in ggdist</p></dd>


<dt>difference_axis_breaks</dt>
<dd><p>Optional numeric &gt; 1 of suggested number of breaks
for the difference axis.  Defaults to 5</p></dd>


<dt>simple_contrast_labels</dt>
<dd><p>Optional logical to determine if contrasts are
given simple labels ('Reference', 'Comparison', 'Difference') or more
descriptive labels based on the contrast specified.</p></dd>


<dt>ylim</dt>
<dd><p>Optional 2-item vector specifying y-axis limits.  Defaults to
c(NA NA); Use NA to specify auto-limit.</p></dd>


<dt>ybreaks</dt>
<dd><p>Optional numeric &gt; 2 for suggested number of y-axis breaks;
defaults to 5</p></dd>


<dt>rope</dt>
<dd><p>Optional 2-item vector with item 2 &gt;= item 1.  Use to specify a range
of values to use to visualize a hypothesis test.  If both values are the
same, a point-null hypothesis test will be visualized.  If item2 &gt; item1
an interval-null hypothesis test will be visualized.  Defaults to c(NA, NA),
which is to not visualize a hypothesis test</p></dd>


<dt>ggtheme</dt>
<dd><p>Optional ggplot2 theme object to specify the visual style of the
plot.  Defaults to <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">ggplot2::theme_classic()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns a ggplot object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function was developed primarily for student use within jamovi when
learning along with the text book Introduction to the New Statistics, 2nd
edition (Cumming &amp; Calin-Jageman, 2024).</p>
<p>Expect breaking changes as this function is improved for general use.  Work
still do be done includes:</p><ul><li><p>Revise to avoid deprecated ggplot features</p></li>
<li><p>Revise for consistent ability to control aesthetics and consistent
layer names</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># From summary data</span></span></span>
<span class="r-in"><span><span class="va">estimate</span> <span class="op">&lt;-</span> <span class="fu">esci</span><span class="fu">::</span><span class="fu"><a href="estimate_rdiff_two.html">estimate_rdiff_two</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  comparison_r <span class="op">=</span> <span class="fl">.53</span>,</span></span>
<span class="r-in"><span>  comparison_n <span class="op">=</span> <span class="fl">45</span>,</span></span>
<span class="r-in"><span>  reference_r <span class="op">=</span> <span class="fl">.41</span>,</span></span>
<span class="r-in"><span>  reference_n <span class="op">=</span> <span class="fl">59</span>,</span></span>
<span class="r-in"><span>  grouping_variable_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Females"</span>, <span class="st">"Males"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  x_variable_name <span class="op">=</span> <span class="st">"Satisfaction with life"</span>,</span></span>
<span class="r-in"><span>  y_variable_name <span class="op">=</span> <span class="st">"Body satisfaction"</span>,</span></span>
<span class="r-in"><span>  grouping_variable_name <span class="op">=</span> <span class="st">"Gender"</span>,</span></span>
<span class="r-in"><span>  conf_level <span class="op">=</span> <span class="fl">.95</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">estimate</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analysis of summary data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- es_r --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   grouping_variable_name grouping_variable_level        x_variable_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                 Gender                 Females Satisfaction with life</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 Gender                   Males Satisfaction with life</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y_variable_name  effect effect_size        LL        UL        SE  n df</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Body satisfaction Females        0.41 0.1685419 0.6005378 0.1092338 59 57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Body satisfaction   Males        0.53 0.2744717 0.7096862 0.1084084 45 43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ta_LL     ta_UL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.2091420 0.5729339</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.3188047 0.6847105</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- es_r_difference --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         type grouping_variable_name grouping_variable_level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Comparison                 Gender                   Males</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  Reference                 Gender                 Females</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Difference                 Gender       Males  -  Females</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x_variable_name   y_variable_name            effect effect_size</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Satisfaction with life Body satisfaction             Males        0.53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Satisfaction with life Body satisfaction           Females        0.41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Satisfaction with life Body satisfaction Males  -  Females        0.12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           LL        UL        SE  n df      ta_LL     ta_UL        rz       sem</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  0.2744717 0.7096862 0.1084084 45 43  0.3188047 0.6847105 0.5901452 0.1543033</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  0.1685419 0.6005378 0.1092338 59 57  0.2091420 0.5729339 0.4356112 0.1336306</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -0.1987466 0.4209803        NA NA NA -0.1467413 0.3735336 0.1545339 0.2041241</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           z            p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 3.8245778 0.0001309964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 3.2598159 0.0011148455</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.7570586 0.4490147644</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note: LL and UL are lower and upper boundaries of confidence intervals with 95% expected coverage.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To evaluate a hypothesis (interval null from -0.1 to 0.1):</span></span></span>
<span class="r-in"><span><span class="fu">esci</span><span class="fu">::</span><span class="fu"><a href="test_rdiff.html">test_rdiff</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $properties</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $properties$effect_size_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $properties$alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $properties$interval_null</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $properties$rope</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $properties$rope_units</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "raw"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $point_null</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             test_type                        outcome_variable_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Nil Hypothesis Test Satisfaction with life and Body satisfaction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              effect null_words confidence         LL        UL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Males  -  Females       0.00         95 -0.1987466 0.4209803</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               CI              CI_compare         t df         p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 95% CI [-0.1987466, 0.4209803] The 95% CI contains H_0 0.7570586 NA 0.4490148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   p_result      null_decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 p ≥ 0.05 Fail to reject H_0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                              conclusion significant</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 At α = 0.05, 0.00 remains a plausible value of Ͱ_diff       FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># To visualize the values of r and their difference</span></span></span>
<span class="r-in"><span><span class="fu">esci</span><span class="fu">::</span><span class="fu">plot_rdiff</span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Robert Calin-Jageman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

